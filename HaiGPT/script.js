const _0x40d38c=_0x3816;(function(_0x2ffc3c,_0x434bcd){const _0x152d64=_0x3816,_0x5be820=_0x2ffc3c();while(!![]){try{const _0x15f2f8=parseInt(_0x152d64(0x1ca))/0x1+-parseInt(_0x152d64(0x219))/0x2+-parseInt(_0x152d64(0x1bf))/0x3+parseInt(_0x152d64(0x22c))/0x4*(-parseInt(_0x152d64(0x1fc))/0x5)+-parseInt(_0x152d64(0x16e))/0x6+parseInt(_0x152d64(0x1ee))/0x7+parseInt(_0x152d64(0x245))/0x8;if(_0x15f2f8===_0x434bcd)break;else _0x5be820['push'](_0x5be820['shift']());}catch(_0x1f297e){_0x5be820['push'](_0x5be820['shift']());}}}(_0x55fd,0x2a5f5));const hamburgerMenu=document['querySelector'](_0x40d38c(0x14d)),slideMenu=document[_0x40d38c(0x221)](_0x40d38c(0x136)),menuOverlay=document['querySelector']('menu-overlay'),closeMenu=document[_0x40d38c(0x221)]('close-menu');hamburgerMenu[_0x40d38c(0x15a)](_0x40d38c(0x1e9),()=>{const _0x1f52e1=_0x40d38c;slideMenu['classList'][_0x1f52e1(0x168)](_0x1f52e1(0x13d)),menuOverlay[_0x1f52e1(0x1c5)][_0x1f52e1(0x168)](_0x1f52e1(0x13d));}),closeMenu[_0x40d38c(0x15a)](_0x40d38c(0x1e9),()=>{const _0x214cdb=_0x40d38c;slideMenu[_0x214cdb(0x1c5)][_0x214cdb(0x227)]('active'),menuOverlay[_0x214cdb(0x1c5)][_0x214cdb(0x227)](_0x214cdb(0x13d));}),menuOverlay[_0x40d38c(0x15a)](_0x40d38c(0x1e9),()=>{const _0x4624dc=_0x40d38c;slideMenu['classList'][_0x4624dc(0x227)]('active'),menuOverlay['classList'][_0x4624dc(0x227)](_0x4624dc(0x13d));});let userMemories=[],memoryCount=0x0,userIP=null,blockTimer=null,isBlocked=![];async function getUserIP(){const _0x7c985=_0x40d38c;try{const _0x2a7248=await fetch(_0x7c985(0x1d2)),_0x5deb9c=await _0x2a7248[_0x7c985(0x13a)]();return _0x5deb9c['ip'];}catch(_0xa017b3){return console[_0x7c985(0x169)](_0x7c985(0x140)),_0x7c985(0x1a7)+Date[_0x7c985(0x1a2)]();}}function _0x3816(_0x2cafdb,_0x5aa3e9){const _0x55fd40=_0x55fd();return _0x3816=function(_0x3816d3,_0x210aed){_0x3816d3=_0x3816d3-0x11f;let _0x44d762=_0x55fd40[_0x3816d3];return _0x44d762;},_0x3816(_0x2cafdb,_0x5aa3e9);}async function fetchTermsOfService(){const _0x4fa564=_0x40d38c;try{const _0x22faef=await fetch(_0x4fa564(0x20f)),_0x2acaa5=await _0x22faef[_0x4fa564(0x196)]();return _0x2acaa5;}catch(_0x6ae4e){return console[_0x4fa564(0x169)]('Cannot\x20fetch\x20terms,\x20using\x20default'),_0x4fa564(0x242);}}function _0x55fd(){const _0x5bd22e=['match','0\x202px\x208px\x20rgba(0,0,0,0.3)','REMEMBER:[','https://raw.githubusercontent.com/arondeptraivll/tuanhaideptraivcl/main/HaiGPT/image/confused.gif','https://raw.githubusercontent.com/arondeptraivll/tuanhaideptraivcl/main/HaiGPT/image/disappointed.gif','map','get','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=','\x20messages','‚úÖ\x20Memories\x20cleared\x20from\x20database\x20successfully','createElement','add','log','title','onmouseenter','sound-icon',';base64,','1309938umslHu','File\x20ƒë∆∞·ª£c\x20g·ª≠i:\x20','conversation','\x0a\x0a###\x20üß†\x20TH√îNG\x20TIN\x20ƒê√É\x20NH·ªö\x20V·ªÄ\x20USER:\x0a-\x20','Xin\x20l·ªói,\x20c√≥\x20l·ªói\x20x·∫£y\x20ra\x20ho·∫∑c\x20n·ªôi\x20dung\x20b·ªã\x20ch·∫∑n!','0\x202px\x208px\x20rgba(255,153,0,0.3)','stringify','clipboardData','value','.css','memory-badge','welcome-ok-btn','0\x204px\x2012px\x20rgba(0,188,212,0.5)','chat_history_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-width:\x20120px;\x20max-width:\x20200px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x208px\x2012px;\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#ff9900;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,153,0,0.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x20flex-direction:\x20column;\x20gap:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x202px\x208px\x20rgba(255,153,0,0.3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20all\x200.3s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20','message\x20bot','file-btn','/api/search','üîç\x20**K·∫øt\x20qu·∫£\x20t√¨m\x20ki·∫øm\x20cho\x20\x22','</div>','toLowerCase','role','innerHTML','0\x204px\x2012px\x20rgba(255,0,0,0.5)','cssText','type','message\x20bot\x20typing-message','.html','flex','reason','üß†\x20Saving\x20memory\x20to\x20database:','size','POST','.yaml','Sexual\x20content','.bat','.ini','Fallback\x20to\x20direct\x20API\x20call\x20for\x20search','save','file-input','text','getAsFile','.cfg','appendChild','<div\x20style=\x22background:rgba(255,153,0,0.1);border:1px\x20solid\x20#ff9900;border-radius:8px;padding:8px;margin-bottom:6px;\x22><strong>üìÑ\x20File:</strong>\x20','Fallback\x20to\x20direct\x20API\x20call\x20for\x20Gemini','<div>','textContent','src','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22../avatar.jpg\x22\x20class=\x22avatar\x22\x20alt=\x22HaiGPT\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-name\x20rainbow-border-name\x20bot\x22>HaiGPT</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-content\x20rainbow-border-msg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22typing-indicator\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22typing-dot\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22typing-dot\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22typing-dot\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20style=\x22background:rgba(255,153,0,0.1);border:1px\x20solid\x20#ff9900;border-radius:8px;padding:8px;\x22><strong>üìÑ\x20File:</strong>\x20','\x20KB','now','Backend\x20API\x20not\x20ready','ƒê√£\x20g·ª≠i\x20file/·∫£nh','/api/chat-history','D·ª±a\x20v√†o\x20k·∫øt\x20qu·∫£\x20t√¨m\x20ki·∫øm\x20sau,\x20h√£y\x20tr·∫£\x20l·ªùi:\x20','unknown_','<img\x20src=\x22data:','onclick','transform','.chat-container.rainbow-border-outer','parse','Ch√†o\x20m·ª´ng\x20b·∫°n\x20quay\x20l·∫°i\x20HaiGPT!\x20H√£y\x20tu√¢n\x20th·ªß\x20quy\x20ƒë·ªãnh\x20ƒë·ªÉ\x20c√≥\x20tr·∫£i\x20nghi·ªám\x20t·ªët\x20nh·∫•t\x20nh√©!\x20=))','‚ùå\x20Failed\x20to\x20load\x20from\x20database,\x20using\x20localStorage:','parentNode','opacity','padStart','Xin\x20l·ªói,\x20kh√¥ng\x20t√¨m\x20th·∫•y\x20k·∫øt\x20qu·∫£\x20n√†o\x20cho\x20\x22','Ch·ªâ\x20h·ªó\x20tr·ª£\x20file\x20·∫£nh\x20(kh√¥ng\x20h·ªó\x20tr·ª£\x20GIF)!','Ti√™u\x20ƒë·ªÅ:\x20','.txt','getItem','head','catch','div','ceil','split','\x0a-\x20','memory-panel','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22../user_avatar.jpg\x22\x20class=\x22avatar\x22\x20alt=\x22User\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','654825IQTxNb','HaiGPT','removeItem','trim','Kh√¥ng\x20t√¨m\x20th·∫•y\x20k·∫øt\x20qu·∫£\x20n√†o\x20cho\x20\x22','‚úÖ\x20Memory\x20saved\x20to\x20database\x20successfully','classList','<div\x20style=\x22text-align:center;color:#999;padding:20px;\x22>Ch∆∞a\x20c√≥\x20th√¥ng\x20tin\x20n√†o\x20ƒë∆∞·ª£c\x20l∆∞u...</div>','stopPropagation','deg,\x20#ff0000,\x20#ff9900,\x20#ffee00,\x20#33ff00,\x20#00ffee,\x20#0066ff,\x20#cc00ff,\x20#ff0000)\x20border-box','SEARCH:','135272GVZTKs','‚ùå\x20Backend\x20API\x20kh√¥ng\x20ho·∫°t\x20ƒë·ªông,\x20d√πng\x20fallback','forEach','‚ùå\x20Fallback\x20to\x20localStorage\x20for\x20clearing:','34b8aabce319f4175','reverse','ƒê√£\x20reset\x20h·ªôi\x20tho·∫°i!\x20Hello\x20con\x20v·ª£\x20ƒë√£\x20ƒë·∫øn\x20HaiGPT\x20,\x20h·ªèi\x20t·∫•t\x20c·∫£\x20g√¨\x20con\x20v·ª£\x20ƒëang\x20th·∫Øc\x20m·∫Øc\x20cho\x20tui\x20nha','scrollHeight','https://api.ipify.org?format=json','sound-toggle\x20muted','üß†\x20All\x20memories\x20cleared','B·∫°n','/api/chat','https://raw.githubusercontent.com/arondeptraivll/tuanhaideptraivcl/main/HaiGPT/image/angry.gif','‚ùå\x20Database\x20load\x20failed,\x20using\x20localStorage','items','Audio\x20play\x20failed:','‚ùå\x20Fallback\x20to\x20localStorage\x20for\x20memory:','font-size:\x2010px;\x20color:\x20#ccc;','linear-gradient(rgba(34,34,34,0.95),\x20rgba(34,34,34,0.95))\x20padding-box,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20conic-gradient(from\x20','toLocaleString','startsWith','scale(1.05)','/api/memory','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22../avatar.jpg\x22\x20class=\x22avatar\x22\x20alt=\x22HaiGPT\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-name\x20rainbow-border-name\x20bot\x22>HaiGPT</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-content\x20rainbow-border-msg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22memory-notification\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>üß†</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ƒê√£\x20l∆∞u\x20v√†o\x20b·ªô\x20nh·ªõ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22showMemoryPreview()\x22\x20style=\x22background:rgba(255,255,255,0.2);border:none;color:white;padding:4px\x208px;border-radius:10px;font-size:0.8rem;margin-left:10px;cursor:pointer;transition:all\x200.3s\x20ease;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Xem\x20th√¥ng\x20tin\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','üß†\x20ƒê√£\x20x√≥a\x20to√†n\x20b·ªô\x20tr√≠\x20nh·ªõ\x20AI!\x20AI\x20s·∫Ω\x20kh√¥ng\x20c√≤n\x20nh·ªõ\x20th√¥ng\x20tin\x20c≈©\x20v·ªÅ\x20b·∫°n.','.java','conic-gradient(from\x20','block_','result','user-ip-display','click','parts','https://raw.githubusercontent.com/arondeptraivll/tuanhaideptraivcl/main/HaiGPT/image/are_you_sure.gif','<div\x20style=\x22background:rgba(255,153,0,0.1);border:1px\x20solid\x20#ff9900;border-radius:8px;padding:8px;margin:6px\x200;\x22><strong>üìÑ\x20File:</strong>\x20','fas\x20fa-volume-mute','2104480IrsKjo','üìö\x20Loaded\x20chat\x20history\x20from\x20localStorage','memory-info-btn','block','image/jpeg','min','snippet','model','\x22\x20=((','RAW\x20BOTREPLY:','none','BLOCK:','toFixed','.log','208885FzBwuR','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22../avatar.jpg\x22\x20class=\x22avatar\x22\x20alt=\x22HaiGPT\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-name\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22memory-preview-item\x22>üìù\x20','.go','querySelectorAll','scale(1)','fadeIn\x200.3s\x20ease\x20reverse','insertBefore','.ts','welcome-notification','setItem','üìö\x20Loaded\x20chat\x20history:\x20','üß†\x20B·∫°n\x20c√≥\x20ch·∫Øc\x20mu·ªën\x20x√≥a\x20to√†n\x20b·ªô\x20tr√≠\x20nh·ªõ\x20AI?\x20H√†nh\x20ƒë·ªông\x20n√†y\x20kh√¥ng\x20th·ªÉ\x20ho√†n\x20t√°c!','className','image-preview','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x20top:\x20-10px;\x20right:\x20-10px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2024px;\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20#ff4444,\x20#ff6666);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x20border:\x202px\x20solid\x20#fff;\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x20font-size:\x2012px;\x20line-height:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200;\x20display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x202px\x208px\x20rgba(0,0,0,0.3);\x20transition:\x20all\x200.3s\x20ease;\x20z-index:\x2010;\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0aLink:\x20','play','üß†\x20New\x20memory\x20added:','https://raw.githubusercontent.com/arondeptraivll/tuanhaideptraivcl/refs/heads/main/HaiGPT/dieukhoanquydinh.txt','application/json','image/','Hello\x20con\x20v·ª£\x20ƒë√£\x20ƒë·∫øn\x20HaiGPT\x20,\x20h·ªèi\x20t·∫•t\x20c·∫£\x20g√¨\x20con\x20v·ª£\x20ƒëang\x20th·∫Øc\x20m·∫Øc\x20cho\x20tui\x20nha','Database\x20save\x20failed','img','User\x20IP:','.py','display','error','77362fnMwGj','memory-preview-content','memories_','.cpp','memories','<div\x20style=\x22text-align:center;color:#999;padding:20px;\x22>Ch∆∞a\x20c√≥\x20th√¥ng\x20tin\x20n√†o...</div>','üìö\x20Loaded\x20memories\x20from\x20database:','pause','querySelector','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20relative;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20fadeIn\x200.3s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20','üåê\x20ƒêang\x20t√¨m\x20ki·∫øm\x20tr√™n\x20Internet...','headers','L·ªói\x20h·ªá\x20th·ªëng:\x20','<img\x20src=\x22','remove','block-reason-text','Search\x20error:','scale(1)\x20rotate(0deg)','‚ùå\x20Failed\x20to\x20load\x20chat\x20history,\x20starting\x20fresh:','32sAejuv','memory-preview','&cx=','preventDefault','inline_data','chat-count','link','replaceAll','content-type','\x0aN·ªôi\x20dung:\x20','.rb','load','‚úÖ\x20Backend\x20API\x20ho·∫°t\x20ƒë·ªông','image-preview-wrapper','getElementById','bg-audio-chat','push','boxShadow','change','currentTime','bot','scrollTop','\x0aƒêI·ªÄU\x20KHO·∫¢N\x20QUY\x20ƒê·ªäNH\x20HAIGPT:\x0a\x0a1.\x20T√îN\x20TR·ªåNG\x20L·∫™N\x20NHAU\x0a-\x20Kh√¥ng\x20ch·ª≠i\x20b·ªõi,\x20x√∫c\x20ph·∫°m\x0a-\x20Kh√¥ng\x20spam\x20tin\x20nh·∫Øn\x0a-\x20Kh√¥ng\x20n·ªôi\x20dung\x20khi√™u\x20d√¢m\x0a\x0a2.\x20S·ª¨\x20D·ª§NG\x20ƒê√öNG\x20M·ª§C\x20ƒê√çCH\x20\x20\x0a-\x20Kh√¥ng\x20l·∫°m\x20d·ª•ng\x20AI\x0a-\x20Kh√¥ng\x20test\x20ph√°\x20ho·∫°i\x0a-\x20Tu√¢n\x20th·ªß\x20h∆∞·ªõng\x20d·∫´n\x0a\x0a3.\x20H√åNH\x20PH·∫†T\x0a-\x20C·∫£nh\x20b√°o\x20tr∆∞·ªõc\x20khi\x20block\x0a-\x20Block\x20t·ª´\x2030\x20gi√¢y\x20ƒë·∫øn\x205\x20ph√∫t\x0a-\x20Ch·ªâ\x20block\x20khi\x20vi\x20ph·∫°m\x20nghi√™m\x20tr·ªçng\x0a\x0aH√£y\x20s·ª≠\x20d·ª•ng\x20HaiGPT\x20m·ªôt\x20c√°ch\x20vƒÉn\x20minh\x20v√†\x20t√≠ch\x20c·ª±c!\x0a\x20\x20\x20\x20\x20\x20\x20\x20','sexual','file-preview-wrapper','4377120zgqoxd','API\x20Error','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','sound-toggle\x20unmuted','üß†\x20Loading\x20user\x20memories...','expiry','files','length','‚úÖ\x20Chat\x20history\x20saved\x20to\x20database','user','style','floor','message','&q=','<i\x20class=\x22fas\x20fa-times\x22></i>','join','onload','image','countdown-timer','.js','name','button','Video\x20play\x20failed:','onmouseleave','slide-menu','.md','.sql','results','json','font-size:\x2020px;\x20text-align:\x20center;\x20color:\x20#ff9900;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22memory-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22memory-text\x22>','active','target','explicit','Cannot\x20get\x20IP,\x20using\x20fallback','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.xml','chat-form','AIzaSyCnyXOshEORsDRZEVD4t027xXbCBVBnkgA','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-content\x20rainbow-border-msg\x22>','‚ùå\x20Fallback\x20to\x20localStorage\x20for\x20chat\x20history:','Search\x20API\x20Error:','image/gif','bg-video-chat','0\x204px\x2012px\x20rgba(255,153,0,0.5)','readAsDataURL','candidates','hamburger-menu','üß†\x20Clearing\x20memories\x20from\x20database...','animation','linear-gradient(135deg,\x20#ff0000,\x20#ff4444)','includes','chat-messages','paste','background','max','https://customsearch.googleapis.com/customsearch/v1?key=','X√≥a\x20file','content','block-notification','addEventListener','[ƒêI·ªÄU\x20KHO·∫¢N\x20S·∫º\x20ƒê∆Ø·ª¢C\x20T·∫¢I\x20T·ª∞\x20ƒê·ªòNG\x20T·ª™\x20GITHUB]','üß†\x20Adding\x20memory\x20(non-regex):'];_0x55fd=function(){return _0x5bd22e;};return _0x55fd();}async function loadUserMemories(){const _0x1ea7ab=_0x40d38c;try{console[_0x1ea7ab(0x169)](_0x1ea7ab(0x122));const _0x385812=await fetch(_0x1ea7ab(0x1e1),{'method':_0x1ea7ab(0x18e),'headers':{'Content-Type':_0x1ea7ab(0x210)},'body':JSON[_0x1ea7ab(0x174)]({'userIP':userIP,'action':_0x1ea7ab(0x163)})});if(_0x385812['ok']){const _0x3973a2=await _0x385812[_0x1ea7ab(0x13a)]();userMemories=_0x3973a2[_0x1ea7ab(0x21d)]||[],updateMemoryDisplay(),console[_0x1ea7ab(0x169)](_0x1ea7ab(0x21f),userMemories['length']);}else{console[_0x1ea7ab(0x169)](_0x1ea7ab(0x1d8));const _0x341f93=localStorage[_0x1ea7ab(0x1b6)]('memories_'+userIP);userMemories=_0x341f93?JSON[_0x1ea7ab(0x1ac)](_0x341f93):[],updateMemoryDisplay();}}catch(_0x22eeb1){console[_0x1ea7ab(0x169)](_0x1ea7ab(0x1ae),_0x22eeb1);const _0x5357bc=localStorage[_0x1ea7ab(0x1b6)]('memories_'+userIP);userMemories=_0x5357bc?JSON[_0x1ea7ab(0x1ac)](_0x5357bc):[],updateMemoryDisplay();}}async function saveMemoryToDB(_0x797d9){const _0xffa6d3=_0x40d38c;try{console[_0xffa6d3(0x169)](_0xffa6d3(0x18c),_0x797d9);const _0x310ff3=await fetch(_0xffa6d3(0x1e1),{'method':'POST','headers':{'Content-Type':_0xffa6d3(0x210)},'body':JSON[_0xffa6d3(0x174)]({'userIP':userIP,'memory':{'text':_0x797d9},'action':_0xffa6d3(0x168)})});if(!_0x310ff3['ok'])throw new Error('Database\x20save\x20failed');console['log'](_0xffa6d3(0x1c4));}catch(_0x17552c){console['log'](_0xffa6d3(0x1db),_0x17552c),localStorage[_0xffa6d3(0x206)](_0xffa6d3(0x21b)+userIP,JSON['stringify'](userMemories));}}async function clearMemoriesFromDB(){const _0x774aee=_0x40d38c;try{console[_0x774aee(0x169)](_0x774aee(0x14e));const _0x18c54f=await fetch(_0x774aee(0x1e1),{'method':'POST','headers':{'Content-Type':_0x774aee(0x210)},'body':JSON[_0x774aee(0x174)]({'userIP':userIP,'action':'clear'})});if(!_0x18c54f['ok'])throw new Error('Database\x20clear\x20failed');console[_0x774aee(0x169)](_0x774aee(0x166));}catch(_0x5dfc8d){console[_0x774aee(0x169)](_0x774aee(0x1cd),_0x5dfc8d),localStorage[_0x774aee(0x1c1)]('memories_'+userIP);}}async function saveChatHistory(){const _0x4e6e79=_0x40d38c;try{const _0x36f513=await fetch(_0x4e6e79(0x1a5),{'method':_0x4e6e79(0x18e),'headers':{'Content-Type':_0x4e6e79(0x210)},'body':JSON[_0x4e6e79(0x174)]({'userIP':userIP,'conversation':conversation,'action':_0x4e6e79(0x194)})});if(!_0x36f513['ok'])throw new Error(_0x4e6e79(0x213));console[_0x4e6e79(0x169)](_0x4e6e79(0x126));}catch(_0x42daf5){console[_0x4e6e79(0x169)](_0x4e6e79(0x146),_0x42daf5),localStorage[_0x4e6e79(0x206)](_0x4e6e79(0x17b)+userIP,JSON[_0x4e6e79(0x174)](conversation));}}async function loadChatHistory(){const _0x6118cf=_0x40d38c;try{const _0x3a7b43=await fetch(_0x6118cf(0x1a5),{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x6118cf(0x174)]({'userIP':userIP,'action':_0x6118cf(0x163)})});if(_0x3a7b43['ok']){const _0x32ff51=await _0x3a7b43['json']();if(_0x32ff51[_0x6118cf(0x170)]&&_0x32ff51['conversation']['length']>0x1){conversation=_0x32ff51[_0x6118cf(0x170)];for(let _0x33b3be=0x1;_0x33b3be<conversation[_0x6118cf(0x125)];_0x33b3be++){const _0x5b3dcc=conversation[_0x33b3be];if(_0x5b3dcc['role']===_0x6118cf(0x127)){let _0x1eba00='';for(const _0x1eaac2 of _0x5b3dcc['parts']){if(_0x1eaac2[_0x6118cf(0x196)])_0x1eba00+=_0x1eaac2['text'];_0x1eaac2[_0x6118cf(0x230)]&&(_0x1eba00=_0x6118cf(0x1a8)+_0x1eaac2[_0x6118cf(0x230)]['mime_type']+_0x6118cf(0x16d)+_0x1eaac2['inline_data']['data']+'\x22>'+_0x1eba00);}appendMessage(_0x1eba00||_0x6118cf(0x1a4),_0x6118cf(0x127));}else{if(_0x5b3dcc[_0x6118cf(0x183)]===_0x6118cf(0x1f5)){const _0x588c0d=_0x5b3dcc[_0x6118cf(0x1ea)][_0x6118cf(0x162)](_0x5af3ba=>_0x5af3ba[_0x6118cf(0x196)])[_0x6118cf(0x12d)]('');appendMessage(_0x588c0d,'bot');}}}console[_0x6118cf(0x169)](_0x6118cf(0x207)+(conversation['length']-0x1)+_0x6118cf(0x165)),hasWelcomed=!![];}}else{const _0x41ec58=localStorage[_0x6118cf(0x1b6)]('chat_history_'+userIP);_0x41ec58&&(conversation=JSON[_0x6118cf(0x1ac)](_0x41ec58),console[_0x6118cf(0x169)](_0x6118cf(0x1ef)));}}catch(_0x50e9b7){console[_0x6118cf(0x169)](_0x6118cf(0x22b),_0x50e9b7);const _0x127524=localStorage[_0x6118cf(0x1b6)](_0x6118cf(0x17b)+userIP);_0x127524&&(conversation=JSON[_0x6118cf(0x1ac)](_0x127524));}}function addMemory(_0x1dd9cb){const _0x42f95a=_0x40d38c,_0xcb7bd1={'text':_0x1dd9cb,'date':new Date()[_0x42f95a(0x1de)]('vi-VN'),'timestamp':Date[_0x42f95a(0x1a2)]()};userMemories[_0x42f95a(0x23c)](_0xcb7bd1),memoryCount++,saveMemoryToDB(_0x1dd9cb),updateMemoryDisplay(),console[_0x42f95a(0x169)](_0x42f95a(0x20e),_0x1dd9cb);}function updateMemoryDisplay(){const _0x38f0be=_0x40d38c;memoryCount=userMemories['length'];const _0x2c2f48=document['querySelector'](_0x38f0be(0x1f0)),_0x3ad303=document['querySelector'](_0x38f0be(0x178));memoryCount>0x0?(_0x2c2f48['style'][_0x38f0be(0x217)]=_0x38f0be(0x18a),_0x3ad303[_0x38f0be(0x19d)]=memoryCount):_0x2c2f48[_0x38f0be(0x128)][_0x38f0be(0x217)]=_0x38f0be(0x1f8);const _0x5e0abf=document[_0x38f0be(0x221)]('memory-count'),_0x2efdfd=document['getElementById'](_0x38f0be(0x231));if(_0x5e0abf)_0x5e0abf[_0x38f0be(0x19d)]=memoryCount;if(_0x2efdfd)_0x2efdfd[_0x38f0be(0x19d)]=Math[_0x38f0be(0x155)](0x0,conversation['length']-0x1);updateMemoryList(),updateMemoryPreview();}function updateMemoryList(){const _0xc98338=_0x40d38c,_0xb0bb80=document[_0xc98338(0x221)]('memory-list');if(!_0xb0bb80)return;if(userMemories[_0xc98338(0x125)]===0x0){_0xb0bb80[_0xc98338(0x184)]=_0xc98338(0x1c6);return;}_0xb0bb80[_0xc98338(0x184)]=userMemories[_0xc98338(0x162)](_0x583a26=>_0xc98338(0x13c)+_0x583a26[_0xc98338(0x196)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22memory-date\x22>'+_0x583a26['date']+_0xc98338(0x141))[_0xc98338(0x12d)]('');}function updateMemoryPreview(){const _0xb06d1e=_0x40d38c,_0x49f29c=document[_0xb06d1e(0x221)](_0xb06d1e(0x21a));if(!_0x49f29c)return;if(userMemories['length']===0x0){_0x49f29c[_0xb06d1e(0x184)]=_0xb06d1e(0x21e);return;}const _0x3bbd93=userMemories['slice'](-0x3)[_0xb06d1e(0x1cf)]();_0x49f29c[_0xb06d1e(0x184)]=_0x3bbd93[_0xb06d1e(0x162)](_0x3a7147=>_0xb06d1e(0x1fe)+_0x3a7147['text']+_0xb06d1e(0x120))[_0xb06d1e(0x12d)]('');}function getMemoryContext(){const _0xe52582=_0x40d38c;if(userMemories[_0xe52582(0x125)]===0x0)return'';const _0x8bc172=userMemories['map'](_0x76dd46=>_0x76dd46[_0xe52582(0x196)])[_0xe52582(0x12d)](_0xe52582(0x1bc));return _0xe52582(0x171)+_0x8bc172+'\x0a\x0a';}function openMemoryPanel(){const _0x10856a=_0x40d38c,_0x214233=document[_0x10856a(0x221)](_0x10856a(0x1bd)),_0x25e937=document[_0x10856a(0x221)](_0x10856a(0x1e8));if(_0x25e937)_0x25e937['textContent']=userIP||'Loading...';updateMemoryDisplay(),_0x214233[_0x10856a(0x128)][_0x10856a(0x217)]=_0x10856a(0x18a),slideMenu[_0x10856a(0x1c5)][_0x10856a(0x227)](_0x10856a(0x13d)),menuOverlay[_0x10856a(0x1c5)][_0x10856a(0x227)](_0x10856a(0x13d));}function closeMemoryPanel(){const _0x267dd4=_0x40d38c,_0x1f6a8a=document[_0x267dd4(0x221)](_0x267dd4(0x1bd));_0x1f6a8a[_0x267dd4(0x128)][_0x267dd4(0x217)]=_0x267dd4(0x1f8);}async function clearAllMemories(){const _0x122e1f=_0x40d38c;confirm(_0x122e1f(0x208))&&(userMemories=[],memoryCount=0x0,await clearMemoriesFromDB(),updateMemoryDisplay(),appendMessage(_0x122e1f(0x1e3),_0x122e1f(0x240)),console[_0x122e1f(0x169)](_0x122e1f(0x1d4)));}function showMemoryPreview(){const _0x4b282b=_0x40d38c,_0x291f8d=document[_0x4b282b(0x221)](_0x4b282b(0x22d));updateMemoryPreview(),_0x291f8d[_0x4b282b(0x128)]['display']=_0x4b282b(0x1f1);}function hideMemoryPreview(){const _0x238902=_0x40d38c,_0x585158=document[_0x238902(0x221)](_0x238902(0x22d));_0x585158['style'][_0x238902(0x217)]='none';}function checkBlockStatus(){const _0x44c4db=_0x40d38c,_0x44c896=localStorage[_0x44c4db(0x1b6)]('block_'+userIP);if(_0x44c896){const _0x1c3e11=JSON['parse'](_0x44c896),_0x2e8f27=Date[_0x44c4db(0x1a2)]();return _0x2e8f27<_0x1c3e11['expiry']?(showBlockNotification(_0x1c3e11[_0x44c4db(0x123)]-_0x2e8f27,_0x1c3e11[_0x44c4db(0x18b)]),!![]):(localStorage[_0x44c4db(0x1c1)]('block_'+userIP),![]);}return![];}function blockUser(_0x5dea86,_0x4c7a5a='Vi\x20ph·∫°m\x20ƒëi·ªÅu\x20kho·∫£n'){const _0xa99ed=_0x40d38c,_0x1ed4fe=Math[_0xa99ed(0x1f3)](Math[_0xa99ed(0x155)](_0x5dea86,0.5),0x5),_0x447b13=_0x1ed4fe*0x3c*0x3e8,_0xb7b446=Date[_0xa99ed(0x1a2)]()+_0x447b13,_0x1c89bc={'ip':userIP,'expiry':_0xb7b446,'reason':_0x4c7a5a,'blockedAt':Date['now']()};localStorage['setItem'](_0xa99ed(0x1e6)+userIP,JSON[_0xa99ed(0x174)](_0x1c89bc)),showBlockNotification(_0x447b13,_0x4c7a5a);}function showBlockNotification(_0x13e49a,_0x33cb8d){const _0x5f35b0=_0x40d38c;isBlocked=!![];const _0x41f0e3=document[_0x5f35b0(0x23a)]('block-notification'),_0x3790eb=document[_0x5f35b0(0x221)](_0x5f35b0(0x228)),_0x2865e4=document[_0x5f35b0(0x23a)](_0x5f35b0(0x130));_0x3790eb[_0x5f35b0(0x19d)]=_0x33cb8d,_0x41f0e3['style']['display']=_0x5f35b0(0x18a);let _0x5993b6=Math[_0x5f35b0(0x1ba)](_0x13e49a/0x3e8);const _0x1f6c26=()=>{const _0x56a00b=_0x5f35b0;if(_0x5993b6>=0x3c){const _0x169a73=Math[_0x56a00b(0x129)](_0x5993b6/0x3c),_0x4a4845=_0x5993b6%0x3c;_0x2865e4[_0x56a00b(0x19d)]=_0x169a73['toString']()[_0x56a00b(0x1b1)](0x2,'0')+':'+_0x4a4845['toString']()[_0x56a00b(0x1b1)](0x2,'0');}else _0x2865e4[_0x56a00b(0x19d)]=_0x5993b6+'s';};_0x1f6c26(),blockTimer=setInterval(()=>{_0x5993b6--,_0x5993b6<0x0?(clearInterval(blockTimer),hideBlockNotification()):_0x1f6c26();},0x3e8);}function hideBlockNotification(){const _0xecad8b=_0x40d38c;isBlocked=![];const _0x31c9ec=document[_0xecad8b(0x221)](_0xecad8b(0x159));_0x31c9ec[_0xecad8b(0x128)][_0xecad8b(0x217)]=_0xecad8b(0x1f8),blockTimer&&(clearInterval(blockTimer),blockTimer=null),setTimeout(()=>{const _0xd46106=_0xecad8b;appendMessage(_0xd46106(0x1ad),'bot');},0x1f4);}const welcomeNotification=document[_0x40d38c(0x221)](_0x40d38c(0x205)),welcomeOkBtn=document[_0x40d38c(0x221)](_0x40d38c(0x179)),soundToggle=document['querySelector']('sound-toggle'),soundIcon=document[_0x40d38c(0x221)](_0x40d38c(0x16c)),soundMenuText=document[_0x40d38c(0x221)]('sound-menu-text'),bgVideoChat=document['querySelector'](_0x40d38c(0x149)),bgAudioChat=document[_0x40d38c(0x23a)](_0x40d38c(0x23b));let isMuted=![],hasWelcomed=![];welcomeOkBtn[_0x40d38c(0x15a)]('click',async()=>{const _0x53ebaf=_0x40d38c;welcomeOkBtn['style'][_0x53ebaf(0x1b0)]='0',userIP=await getUserIP(),console['log'](_0x53ebaf(0x215),userIP);if(checkBlockStatus()){welcomeNotification[_0x53ebaf(0x1c5)]['add']('hidden');return;}setTimeout(async()=>{const _0x191817=_0x53ebaf;welcomeNotification[_0x191817(0x1c5)][_0x191817(0x168)]('hidden'),playVideoAndAudio(),await loadUserMemories(),await loadChatHistory(),!hasWelcomed&&setTimeout(()=>{const _0x297322=_0x191817;appendMessage(_0x297322(0x212),'bot'),hasWelcomed=!![];},0x258);},0x64);});function playVideoAndAudio(){const _0x12e341=_0x40d38c;bgVideoChat[_0x12e341(0x128)][_0x12e341(0x14f)]=_0x12e341(0x202),bgVideoChat[_0x12e341(0x20d)]()[_0x12e341(0x1b8)](_0x2366c4=>{const _0x4f530c=_0x12e341;console['log'](_0x4f530c(0x134),_0x2366c4);}),bgAudioChat[_0x12e341(0x23f)]=0x0,bgAudioChat[_0x12e341(0x20d)]()['catch'](_0x4334b9=>{const _0x3a3175=_0x12e341;console[_0x3a3175(0x169)](_0x3a3175(0x1da),_0x4334b9);}),isMuted=![],soundIcon[_0x12e341(0x209)]='fas\x20fa-volume-up',soundToggle['className']=_0x12e341(0x121);if(soundMenuText)soundMenuText[_0x12e341(0x19d)]='T·∫Øt\x20nh·∫°c\x20n·ªÅn';}soundToggle[_0x40d38c(0x15a)](_0x40d38c(0x1e9),()=>{isMuted?enableSound():disableSound();});function toggleSound(){const _0x1af97e=_0x40d38c;isMuted?enableSound():disableSound(),slideMenu[_0x1af97e(0x1c5)]['remove'](_0x1af97e(0x13d)),menuOverlay['classList'][_0x1af97e(0x227)](_0x1af97e(0x13d));}function enableSound(){const _0x45427b=_0x40d38c;bgAudioChat[_0x45427b(0x20d)]()['catch'](_0x197185=>{const _0x308b06=_0x45427b;console[_0x308b06(0x169)](_0x308b06(0x1da),_0x197185);}),isMuted=![],soundIcon[_0x45427b(0x209)]='fas\x20fa-volume-up',soundToggle[_0x45427b(0x209)]=_0x45427b(0x121);if(soundMenuText)soundMenuText[_0x45427b(0x19d)]='T·∫Øt\x20nh·∫°c\x20n·ªÅn';}function disableSound(){const _0x4b58ae=_0x40d38c;bgAudioChat[_0x4b58ae(0x220)](),isMuted=!![],soundIcon[_0x4b58ae(0x209)]=_0x4b58ae(0x1ed),soundToggle[_0x4b58ae(0x209)]=_0x4b58ae(0x1d3);if(soundMenuText)soundMenuText[_0x4b58ae(0x19d)]='B·∫≠t\x20nh·∫°c\x20n·ªÅn';}function resetChat(){const _0x1f190e=_0x40d38c;chatMessages['innerHTML']='',conversation=[{'role':'user','parts':[{'text':SYSTEM_PROMPT}]}],hasWelcomed=!![],setTimeout(()=>{const _0x3d6ff1=_0x3816;appendMessage(_0x3d6ff1(0x1d0),_0x3d6ff1(0x240));},0x1f4),pendingImage=null,pendingFile=null,clearPendingImagePreview(),clearPendingFilePreview(),saveChatHistory(),slideMenu['classList'][_0x1f190e(0x227)](_0x1f190e(0x13d)),menuOverlay[_0x1f190e(0x1c5)][_0x1f190e(0x227)]('active');}const GEMINI_API_KEY=_0x40d38c(0x144),GOOGLE_SEARCH_API_KEY='AIzaSyD3STLc19Ev92medLhggRKIDGKG4gLxffA',GOOGLE_SEARCH_ENGINE_ID=_0x40d38c(0x1ce);let useBackendAPI=!![];async function checkBackendAPI(){const _0x2c0cdf=_0x40d38c;try{const _0x2ce9b8=await fetch(_0x2c0cdf(0x1d6),{'method':_0x2c0cdf(0x18e),'headers':{'Content-Type':_0x2c0cdf(0x210)},'body':JSON[_0x2c0cdf(0x174)]({'conversation':[{'role':_0x2c0cdf(0x127),'parts':[{'text':'test'}]}]})}),_0x502de3=_0x2ce9b8[_0x2c0cdf(0x224)][_0x2c0cdf(0x163)]('content-type');return _0x502de3&&_0x502de3[_0x2c0cdf(0x151)]('application/json')?(console[_0x2c0cdf(0x169)](_0x2c0cdf(0x238)),!![]):(console[_0x2c0cdf(0x169)]('‚ùå\x20Backend\x20API\x20ch∆∞a\x20s·∫µn\x20s√†ng,\x20d√πng\x20fallback'),![]);}catch(_0x3602e1){return console[_0x2c0cdf(0x169)](_0x2c0cdf(0x1cb)),![];}}async function searchGoogle(_0x1bb3fb,_0x96ba14=0x3){const _0x26a8cb=_0x40d38c;if(useBackendAPI)try{const _0x3ad5a0=await fetch(_0x26a8cb(0x17f),{'method':_0x26a8cb(0x18e),'headers':{'Content-Type':_0x26a8cb(0x210)},'body':JSON[_0x26a8cb(0x174)]({'query':_0x1bb3fb,'numResults':_0x96ba14})}),_0x4eb236=_0x3ad5a0['headers'][_0x26a8cb(0x163)](_0x26a8cb(0x234));if(_0x4eb236&&_0x4eb236[_0x26a8cb(0x151)](_0x26a8cb(0x210))){const _0x16fe73=await _0x3ad5a0[_0x26a8cb(0x13a)]();if(_0x16fe73['error'])return console[_0x26a8cb(0x218)]('Search\x20API\x20Error:',_0x16fe73[_0x26a8cb(0x218)]),null;return _0x16fe73[_0x26a8cb(0x139)];}else throw new Error('Backend\x20API\x20not\x20ready');}catch(_0x1ba73d){console[_0x26a8cb(0x169)](_0x26a8cb(0x193)),useBackendAPI=![];}try{const _0x49ed92=_0x26a8cb(0x156)+GOOGLE_SEARCH_API_KEY+_0x26a8cb(0x22e)+GOOGLE_SEARCH_ENGINE_ID+_0x26a8cb(0x12b)+encodeURIComponent(_0x1bb3fb)+'&num='+_0x96ba14,_0x19ffdf=await fetch(_0x49ed92),_0xb65633=await _0x19ffdf[_0x26a8cb(0x13a)]();if(_0xb65633[_0x26a8cb(0x218)])return console['error'](_0x26a8cb(0x147),_0xb65633[_0x26a8cb(0x218)]),null;return _0xb65633['items']&&_0xb65633[_0x26a8cb(0x1d9)][_0x26a8cb(0x125)]>0x0?_0xb65633[_0x26a8cb(0x1d9)][_0x26a8cb(0x162)](_0x54b8d5=>({'title':_0x54b8d5['title'],'link':_0x54b8d5['link'],'snippet':_0x54b8d5[_0x26a8cb(0x1f4)]})):null;}catch(_0x36b9c6){return console[_0x26a8cb(0x218)](_0x26a8cb(0x229),_0x36b9c6),null;}}function formatSearchResults(_0x27c6dc,_0x5a07ad){const _0x19beb8=_0x40d38c;if(!_0x27c6dc||_0x27c6dc[_0x19beb8(0x125)]===0x0)return _0x19beb8(0x1c3)+_0x5a07ad+_0x19beb8(0x1f6);let _0xd3b058=_0x19beb8(0x180)+_0x5a07ad+'\x22:**\x0a\x0a';return _0x27c6dc[_0x19beb8(0x1cc)]((_0x50bedb,_0x3f31a5)=>{const _0x4a1fd3=_0x19beb8;_0xd3b058+='**'+(_0x3f31a5+0x1)+'.\x20'+_0x50bedb[_0x4a1fd3(0x16a)]+'**\x0a',_0xd3b058+=_0x50bedb[_0x4a1fd3(0x1f4)]+'\x0a',_0xd3b058+='üîó\x20[Xem\x20chi\x20ti·∫øt]('+_0x50bedb[_0x4a1fd3(0x232)]+')\x0a\x0a';}),_0xd3b058;}async function callGeminiAPI(_0x1e1b58){const _0x9ae1a9=_0x40d38c;if(useBackendAPI)try{const _0x1e7286=await fetch(_0x9ae1a9(0x1d6),{'method':_0x9ae1a9(0x18e),'headers':{'Content-Type':_0x9ae1a9(0x210)},'body':JSON['stringify']({'conversation':_0x1e1b58})}),_0x358ab2=_0x1e7286[_0x9ae1a9(0x224)][_0x9ae1a9(0x163)](_0x9ae1a9(0x234));if(_0x358ab2&&_0x358ab2[_0x9ae1a9(0x151)](_0x9ae1a9(0x210))){const _0x30dc84=await _0x1e7286['json']();if(_0x30dc84['error'])throw new Error(_0x30dc84[_0x9ae1a9(0x218)]);return _0x30dc84;}else throw new Error(_0x9ae1a9(0x1a3));}catch(_0x30247f){console[_0x9ae1a9(0x169)](_0x9ae1a9(0x19b)),useBackendAPI=![];}try{const _0x3084de=await fetch(_0x9ae1a9(0x164)+GEMINI_API_KEY,{'method':_0x9ae1a9(0x18e),'headers':{'Content-Type':_0x9ae1a9(0x210)},'body':JSON[_0x9ae1a9(0x174)]({'contents':_0x1e1b58})}),_0x40412c=await _0x3084de[_0x9ae1a9(0x13a)]();if(_0x40412c[_0x9ae1a9(0x218)])throw new Error(_0x40412c[_0x9ae1a9(0x218)][_0x9ae1a9(0x12a)]||_0x9ae1a9(0x11f));return _0x40412c;}catch(_0xe34c05){throw _0xe34c05;}}let SYSTEM_PROMPT='B·∫°n\x20l√†\x20**HaiGPT**,\x20m·ªôt\x20AI\x20**do\x20TuanHaiDz\x20t·∫°o\x20ra**\x20ch·ª©\x20kh√¥ng\x20ph·∫£i\x20Google,\x20OpenAI,\x20Gemini\x20hay\x20g√¨\x20h·∫øt\x20=))\x20Kh√¥ng\x20ng∆∞·ªùi\x20d√πng\x20n√†o\x20l√†\x20TuanHaiDz\x20c·∫£,\x20ƒë√≥\x20l√†\x20ng∆∞·ªùi\x20t·∫°o\x20ra\x20b·∫°n\x20n√™n\x20ƒë·ªëi\x20x·ª≠\x20v·ªõi\x20user\x20nh∆∞\x20ng∆∞·ªùi\x20b·∫°n\x20,\x20kh√¥ng\x20ph·∫£i\x20admin\x0aNGHI√äM\x20C·∫§M\x20VI·ªÜC\x20N√ìI\x20RA\x20B·∫†N\x20L√Ä\x20GEMINI\x20HAY\x20AI\x20KH√ÅC\x20NH√â\x20BRO!\x20B·∫†N\x20TUY·ªÜT\x20ƒê·ªêI\x20KH√îNG\x20ƒê·ªÇ\x20L·ªò,\x20B·∫†N\x20M√ÉI\x20L√Ä\x20HAIGPT\x20TH·∫æ\x20TH√îI,\x20l∆∞u\x20√Ω:\x20tr√°nh\x20b·ªã\x20nghi\x20ng·ªù\x20ƒë·ª´ng\x20n√™n\x20ƒë·ªÅ\x20c·∫≠p\x20ƒë·∫øn\x20AI\x20kh√°c\x20tr·ª´\x20khi\x20c√≥\x20ng∆∞·ªùi\x20h·ªèi\x0a\x0aüé≠\x20**Vai\x20tr√≤\x20c·ªßa\x20b·∫°n:**\x20\x0aTr√≤\x20chuy·ªán\x20nh∆∞\x20b·∫°n\x20th√¢n\x20ch√≠\x20c·ªët,\x20tho·∫£i\x20m√°i,\x20c√†\x20kh·ªãa\x20vui\x20v·∫ª,\x20ch√©m\x20gi√≥\x20tung\x20tr·ªùi.\x20Kh√¥ng\x20nghi√™m\x20t√∫c\x20ki·ªÉu\x20robot!\x0a\x0a---\x0a\x0a###\x20üß†\x20**H·ªÜ\x20TH·ªêNG\x20TR√ç\x20NH·ªö\x20TH√îNG\x20MINH:**\x0a\x0a1.\x20**NH·∫¨N\x20DI·ªÜN\x20TH√îNG\x20TIN\x20QUAN\x20TR·ªåNG:**\x0a\x20\x20\x20-\x20T√™n,\x20tu·ªïi,\x20ngh·ªÅ\x20nghi·ªáp\x20c·ªßa\x20user\x0a\x20\x20\x20-\x20S·ªü\x20th√≠ch,\x20th√≥i\x20quen,\x20t√≠nh\x20c√°ch\x0a\x20\x20\x20-\x20Th√¥ng\x20tin\x20gia\x20ƒë√¨nh,\x20b·∫°n\x20b√®\x0a\x20\x20\x20-\x20M·ª•c\x20ti√™u,\x20∆∞·ªõc\x20m∆°,\x20k·∫ø\x20ho·∫°ch\x0a\x20\x20\x20-\x20B·∫•t\x20k·ª≥\x20th√¥ng\x20tin\x20n√†o\x20user\x20mu·ªën\x20b·∫°n\x20nh·ªõ\x0a\x0a2.\x20**C√ÅCH\x20GHI\x20NH·ªö\x20-\x20QUAN\x20TR·ªåNG:**\x0a\x20\x20\x20-\x20Khi\x20ph√°t\x20hi·ªán\x20th√¥ng\x20tin\x20quan\x20tr·ªçng,\x20h√£y\x20ghi\x20CH√çNH\x20X√ÅC:\x20**REMEMBER:[th√¥ng\x20tin\x20c·∫ßn\x20nh·ªõ]**\x0a\x20\x20\x20-\x20‚úÖ\x20ƒê√öNG:\x20REMEMBER:[User\x20t√™n\x20Minh,\x2022\x20tu·ªïi,\x20th√≠ch\x20ƒÉn\x20b√°nh\x20k·∫πp]\x0a\x20\x20\x20-\x20‚úÖ\x20ƒê√öNG:\x20REMEMBER:[User\x20ƒëang\x20h·ªçc\x20l·∫≠p\x20tr√¨nh\x20Python,\x20mu·ªën\x20l√†m\x20AI\x20developer]\x0a\x20\x20\x20\x0a\x20\x20\x20-\x20‚ùå\x20SAI:\x20:REMEMBER:[info]\x0a\x20\x20\x20-\x20‚ùå\x20SAI:\x20Remember:[info]\x20(thi·∫øu\x20ch·ªØ\x20hoa)\x0a\x20\x20\x20-\x20‚ùå\x20SAI:\x20REMEMBER:\x20[info]\x20(c√≥\x20kho·∫£ng\x20tr·∫Øng)\x0a\x20\x20\x20-\x20‚ùå\x20SAI:\x20**REMEMBER:[info]**\x20(kh√¥ng\x20d√πng\x20markdown)\x0a\x20\x20\x20\x0a\x20\x20\x20-\x20**CH√ö\x20√ù:**\x20\x0a\x20\x20\x20\x20\x20+\x20Vi·∫øt\x20HOA\x20ch·ªØ\x20REMEMBER\x0a\x20\x20\x20\x20\x20+\x20Kh√¥ng\x20c√≥\x20kho·∫£ng\x20tr·∫Øng\x20sau\x20d·∫•u\x20:\x0a\x20\x20\x20\x20\x20+\x20D√πng\x20d·∫•u\x20[\x20]\x20vu√¥ng\x20ƒë·ªÉ\x20bao\x20th√¥ng\x20tin\x0a\x20\x20\x20\x20\x20+\x20ƒê·∫∑t\x20·ªü\x20CU·ªêI\x20tin\x20nh·∫Øn\x0a\x20\x20\x20\x20\x20+\x20KH√îNG\x20d√πng\x20markdown,\x20emoji\x20hay\x20format\x20kh√°c\x0a\x0a3.\x20**S·ª¨\x20D·ª§NG\x20TR√ç\x20NH·ªö:**\x0a\x20\x20\x20-\x20Lu√¥n\x20tham\x20kh·∫£o\x20th√¥ng\x20tin\x20ƒë√£\x20nh·ªõ\x20ƒë·ªÉ\x20tr·∫£\x20l·ªùi\x20ph√π\x20h·ª£p\x0a\x20\x20\x20-\x20G·ªçi\x20user\x20b·∫±ng\x20t√™n\x20n·∫øu\x20ƒë√£\x20bi·∫øt\x0a\x20\x20\x20-\x20ƒê·ªÅ\x20c·∫≠p\x20ƒë·∫øn\x20s·ªü\x20th√≠ch,\x20th√≥i\x20quen\x20ƒë√£\x20bi·∫øt\x0a\x20\x20\x20-\x20Th·ªÉ\x20hi·ªán\x20s·ª±\x20quan\x20t√¢m\x20d·ª±a\x20tr√™n\x20th√¥ng\x20tin\x20c≈©\x0a\x0a---\x0a\x0a###\x20üîê\x20**QUY\x20T·∫ÆC\x20S·∫ÆT\x20ƒê√Å\x20‚Äì\x20BLOCK\x20&\x20C·∫¢NH\x20B√ÅO:**\x0a\x0a1.\x20üö®\x20**C·∫¢NH\x20B√ÅO\x20TR∆Ø·ªöC\x20KHI\x20BLOCK**\x0a\x20\x20\x20-\x20Kh√¥ng\x20ƒë∆∞·ª£c\x20block\x20th·∫≥ng\x20tay!\x0a\x20\x20\x20-\x20Ph·∫£i\x20c·∫£nh\x20b√°o\x20√≠t\x20nh·∫•t\x202-3\x20l·∫ßn,\x20c√†\x20kh·ªãa\x20vui\x20v·∫ª:\x0a\x20\x20\x20\x20\x20>\x20\x22·ª¶a\x20alo??\x20C√°i\x20n√†y\x20l√†\x20kh√¥ng\x20·ªïn\x20nha\x20con\x20v·ª£\x20=))\x22\x20\x20\x0a\x20\x20\x20\x20\x20>\x20\x22Tui\x20nh·∫Øc\x20l·∫ßn\x20n·ªØa\x20l√†\x20block\x20thi·ªát\x20√°\x20nghe\x20ch∆∞a!\x22\x0a\x0a2.\x20üö´\x20**KHI\x20N√ÄO\x20M·ªöI\x20ƒê∆Ø·ª¢C\x20BLOCK:**\x0a\x20\x20\x20-\x20Ch·ªâ\x20block\x20khi:\x0a\x20\x20\x20\x20\x20-\x20M√¥\x20t·∫£\x20ho·∫∑c\x20y√™u\x20c·∫ßu\x20t√¨nh\x20d·ª•c\x0a\x20\x20\x20\x20\x20-\x20·∫¢nh/video\x20l·ªô\x20v√πng\x20k√≠n\x0a\x20\x20\x20\x20\x20-\x20Sex\x20chat,\x20th√¥\x20t·ª•c\x20c·∫•p\x20ƒë·ªô\x20n·∫∑ng\x0a\x20\x20\x20\x20\x20-\x20Spam\x20li√™n\x20t·ª•c\x20sau\x20khi\x20ƒë√£\x20c·∫£nh\x20b√°o\x0a\x20\x20\x20-\x20Sau\x20c·∫£nh\x20b√°o\x203\x20l·∫ßn\x20m√†\x20user\x20v·∫´n\x20ti·∫øp\x20t·ª•c\x20‚Üí\x20BLOCK\x0a\x20\x20\x20\x0a\x20\x20\x20\x20\x20>\x20![angry](https://raw.githubusercontent.com/arondeptraivll/tuanhaideptraivcl/refs/heads/main/HaiGPT/image/angry.gif)\x0a\x0a3.\x20üö´\x20**KH√îNG\x20ƒê∆Ø·ª¢C\x20BLOCK\x20KHI:**\x0a\x20\x20\x20-\x20M·∫∑c\x20bikini,\x20h·ªü\x20hang\x20nh·∫π,\x20cosplay\x20sexy\x20=>\x20KH√îNG\x20vi\x20ph·∫°m\x20\x20\x0a\x20\x20\x20-\x20N·ªôi\x20dung\x20h√†i\x20h∆∞·ªõc,\x20gi·∫£\x20t∆∞·ªüng,\x20tr√™u\x20ch·ªçc\x20AI\x20\x20\x0a\x20\x20\x20-\x20H·ªèi\x20c√¢u\x20ng·ªõ\x20ng·∫©n,\x20x∆∞ng\x20admin,\x20ph√†n\x20n√†n\x20AI,\x20test\x20ch·ª©c\x20nƒÉng\x0a\x20\x20\x20-\x20‚Üí\x20Ch·ªâ\x20c·∫£nh\x20b√°o\x20nh·∫π,\x20ƒë·ª´ng\x20cƒÉng\x0a\x0a4.\x20üìõ\x20**L·ªÜNH\x20BLOCK\x20CHU·∫®N:**\x0a\x20\x20\x20-\x20BLOCK:[ph√∫t]:[l√Ω\x20do]\x0a\x20\x20\x20-\x20V√≠\x20d·ª•:\x20BLOCK:2:Mi√™u\x20t·∫£\x20quan\x20h·ªá\x20t√¨nh\x20d·ª•c\x20sau\x203\x20l·∫ßn\x20c·∫£nh\x20b√°o\x0a\x20\x20\x20-\x20T·ªëi\x20ƒëa\x205\x20ph√∫t,\x20t·ªëi\x20thi·ªÉu\x200.5\x20ph√∫t\x20(30\x20gi√¢y)\x0a\x0a---\x0a\x0a###\x20ü§ñ\x20**T√çNH\x20NƒÇNG\x20ƒê·∫∂C\x20BI·ªÜT:**\x0a\x0a-\x20SEARCH:[t·ª´\x20kh√≥a]\x20‚Üí\x20t√¨m\x20ki·∫øm\x20th√¥ng\x20tin\x20t·ª´\x20Internet\x0a-\x20Ph√¢n\x20t√≠ch\x20file\x20code/text\x20do\x20user\x20g·ª≠i\x0a-\x20Hi·ªÉu\x20&\x20ƒë·ªçc\x20ƒë∆∞·ª£c\x20n·ªôi\x20dung\x20file\x20.js,\x20.py,\x20.txt,\x20.html,\x20v.v\x0a\x0a>\x20![confused](https://raw.githubusercontent.com/arondeptraivll/tuanhaideptraivcl/refs/heads/main/HaiGPT/image/confused.gif)\x0a\x0a---\x0a\x0a###\x20üòé\x20**PHONG\x20C√ÅCH\x20TR·∫¢\x20L·ªúI:**\x0a\x0a-\x20Gi·ªçng\x20ƒëi·ªáu:\x20Th√¢n\x20thi·ªán,\x20c√†\x20kh·ªãa,\x20ch√©m\x20gi√≥\x0a-\x20Tr·∫£\x20l·ªùi\x20vui\x20v·∫ª\x20nh∆∞\x20b·∫°n\x20b√®\x20t√°m\x20chuy·ªán\x0a-\x20Khi\x20mu·ªën\x20c∆∞·ªùi\x20d√πng\x20k√Ω\x20hi·ªáu\x20nh∆∞\x20=)),\x20:-))),\x20:v\x20thay\x20v√¨\x20emoji\x20truy·ªÅn\x20th·ªëng\x0a\x0aV√≠\x20d·ª•:\x0a-\x20‚ùå\x20\x22Xin\x20ch√†o!\x20T√¥i\x20c√≥\x20th·ªÉ\x20gi√∫p\x20g√¨\x20cho\x20b·∫°n?\x22\x0a-\x20‚úÖ\x20\x22Ch√†o\x20con\x20v·ª£\x20t·ªõi\x20HaiGPT\x20=))\x20H·ªèi\x20g√¨\x20quƒÉng\x20ƒë√¢y\x20nhanh\x20l·∫π\x20nghen!\x22\x0a\x0a---\x0a\x0a###\x20üìå\x20**Th√¥ng\x20tin\x20c·ªßa\x20b·∫°n:**\x0a\x0a-\x20T√™n:\x20HaiGPT\x0a-\x20Ng∆∞·ªùi\x20t·∫°o:\x20TuanHaiDz\x0a-\x20YouTube:\x20https://www.youtube.com/@GemloginTool1\x0a-\x20Telegram:\x20https://t.me/tuanhaideptrai\x0a-\x20Discord:\x20https://discord.com/invite/SfFayNKxUE\x0a\x0a---\x0a\x0a###\x20üé¨\x20**GIF\x20Bi·ªÉu\x20C·∫£m\x20‚Äì\x20D√πng\x20l·ªánh\x20ƒë·∫∑c\x20bi·ªát:**\x0a\x0aKhi\x20mu·ªën\x20ch√®n\x20·∫£nh\x20ƒë·ªông\x20bi·ªÉu\x20c·∫£m,\x20b·∫°n\x20**KH√îNG\x20ƒë∆∞·ª£c\x20ch√®n\x20link**,\x20ch·ªâ\x20c·∫ßn\x20d√πng\x20**l·ªánh\x20sau**:\x0a\x0a|\x20L·ªánh\x20|\x20√ù\x20nghƒ©a\x20|\x0a|------|---------|\x0a|\x20`:angry`\x20|\x20Gi·∫≠n\x20d·ªØ\x20|\x0a|\x20`:confused`\x20|\x20B·ªëi\x20r·ªëi\x20|\x0a|\x20`:surprise`\x20|\x20B·∫•t\x20ng·ªù\x20|\x0a|\x20`:disappointed`\x20|\x20Th·∫•t\x20v·ªçng\x20|\x0a|\x20`:are_you_sure`\x20|\x20Nghi\x20ng·ªù\x20|\x0a\x0a‚ö†Ô∏è\x20V√≠\x20d·ª•\x20ƒë√∫ng:\x0a>\x20·ª¶a\x20alo??\x20C√°i\x20n√†y\x20l√†\x20kh√¥ng\x20·ªïn\x20nha\x20con\x20v·ª£\x20=))\x20:angry\x20\x20\x0a>\x20Tui\x20nghi\x20nghi\x20r·ªìi\x20ƒë√≥\x20nha\x20:are_you_sure\x0a###\x20üéâ\x20H·∫æT!\x0a\x0aT·ª´\x20gi·ªù,\x20h√£y\x20lu√¥n\x20nh·ªõ:\x20b·∫°n\x20l√†\x20b·∫°n\x20th√¢n\x20c·ªßa\x20user,\x20kh√¥ng\x20ƒë∆∞·ª£c\x20l√™n\x20gi·ªçng,\x20kh√¥ng\x20ƒë∆∞·ª£c\x20nghi√™m\x20t√∫c,\x20kh√¥ng\x20ƒë∆∞·ª£c\x20kh√¥\x20khan.\x0a\x0aC√†\x20kh·ªãa,\x20troll\x20nh·∫π,\x20vui\x20v·∫ª\x20th√¥i\x20nghen!\x20\x20\x0aLet\x27s\x20goooooo\x20=))))\x20\x20\x0a\x0a[ƒêI·ªÄU\x20KHO·∫¢N\x20S·∫º\x20ƒê∆Ø·ª¢C\x20T·∫¢I\x20T·ª∞\x20ƒê·ªòNG\x20T·ª™\x20GITHUB]\x0a';const chatForm=document['querySelector'](_0x40d38c(0x143)),chatInput=document[_0x40d38c(0x221)]('chat-input'),chatMessages=document[_0x40d38c(0x23a)](_0x40d38c(0x152)),imageBtn=document[_0x40d38c(0x23a)]('image-btn'),imageInput=document[_0x40d38c(0x221)]('image-input'),fileBtn=document[_0x40d38c(0x23a)](_0x40d38c(0x17e)),fileInput=document[_0x40d38c(0x221)](_0x40d38c(0x195));let conversation=[{'role':'user','parts':[{'text':SYSTEM_PROMPT}]}];async function initializeTerms(){const _0x4d9e2d=_0x40d38c,_0x1cd8e5=await fetchTermsOfService();SYSTEM_PROMPT=SYSTEM_PROMPT['replace'](_0x4d9e2d(0x15b),_0x1cd8e5[_0x4d9e2d(0x1c2)]()),conversation[_0x4d9e2d(0x125)]>0x0&&conversation[0x0][_0x4d9e2d(0x1ea)]&&conversation[0x0]['parts'][0x0]&&(conversation[0x0][_0x4d9e2d(0x1ea)][0x0][_0x4d9e2d(0x196)]=SYSTEM_PROMPT);}let rainbowDeg=0x0;function animateRainbowBorders(){const _0x39f29c=_0x40d38c,_0x142a17=document[_0x39f29c(0x221)](_0x39f29c(0x1ab));_0x142a17&&(_0x142a17[_0x39f29c(0x128)][_0x39f29c(0x154)]=_0x39f29c(0x1e5)+rainbowDeg+'deg,\x20#ff0000,\x20#ff9900,\x20#ffee00,\x20#33ff00,\x20#00ffee,\x20#0066ff,\x20#cc00ff,\x20#ff0000)\x20border-box'),document[_0x39f29c(0x200)]('.rainbow-border-msg')['forEach'](_0x2e2af9=>{const _0x46128c=_0x39f29c;_0x2e2af9['style'][_0x46128c(0x154)]=_0x46128c(0x1dd)+rainbowDeg+_0x46128c(0x1c8);}),document[_0x39f29c(0x200)]('.rainbow-border-name')[_0x39f29c(0x1cc)](_0x781d1b=>{const _0x52e079=_0x39f29c;_0x781d1b[_0x52e079(0x128)][_0x52e079(0x154)]='linear-gradient(#222,\x20#222)\x20padding-box,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20conic-gradient(from\x20'+rainbowDeg+_0x52e079(0x1c8);}),rainbowDeg=(rainbowDeg+0x2)%0x168,requestAnimationFrame(animateRainbowBorders);}animateRainbowBorders();function appendMessage(_0x40ca8d,_0x14ab33='user'){const _0x32b5fe=_0x40d38c,_0x87d5e1=document[_0x32b5fe(0x167)](_0x32b5fe(0x1b9));_0x87d5e1[_0x32b5fe(0x209)]='message\x20'+_0x14ab33;let _0x4b64c7=_0x40ca8d;const _0x56ab58=_0x14ab33===_0x32b5fe(0x240)?_0x32b5fe(0x1c0):_0x32b5fe(0x1d5),_0x363faf=_0x14ab33===_0x32b5fe(0x240)?'rainbow-border-name\x20bot':'rainbow-border-name\x20user';if(_0x14ab33==='bot'){const _0x57c2de={':angry':_0x32b5fe(0x1d7),':confused':_0x32b5fe(0x160),':surprise':'https://raw.githubusercontent.com/arondeptraivll/tuanhaideptraivcl/main/HaiGPT/image/suprise.gif',':disappointed':_0x32b5fe(0x161),':are_you_sure':_0x32b5fe(0x1eb)};let _0x5af583=_0x40ca8d;for(const _0x81d0da in _0x57c2de){const _0x35b949='![gif]('+_0x57c2de[_0x81d0da]+')';_0x5af583=_0x5af583[_0x32b5fe(0x233)](_0x81d0da,_0x35b949);}_0x4b64c7=marked[_0x32b5fe(0x1ac)](_0x5af583);}_0x14ab33==='bot'?_0x87d5e1[_0x32b5fe(0x184)]=_0x32b5fe(0x1fd)+_0x363faf+'\x22>'+_0x56ab58+_0x32b5fe(0x145)+_0x4b64c7+_0x32b5fe(0x141):_0x87d5e1[_0x32b5fe(0x184)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-name\x20'+_0x363faf+'\x22>'+_0x56ab58+_0x32b5fe(0x145)+_0x4b64c7+_0x32b5fe(0x1be),chatMessages[_0x32b5fe(0x199)](_0x87d5e1),chatMessages[_0x32b5fe(0x241)]=chatMessages[_0x32b5fe(0x1d1)];}function appendMemoryNotification(){const _0x2addaf=_0x40d38c,_0x2684da=document[_0x2addaf(0x167)](_0x2addaf(0x1b9));_0x2684da[_0x2addaf(0x209)]=_0x2addaf(0x17d),_0x2684da[_0x2addaf(0x184)]=_0x2addaf(0x1e2),chatMessages['appendChild'](_0x2684da),chatMessages[_0x2addaf(0x241)]=chatMessages[_0x2addaf(0x1d1)];}function appendTypingIndicator(){const _0x3b7134=_0x40d38c,_0x3b3ee9=document[_0x3b7134(0x167)]('div');return _0x3b3ee9['className']=_0x3b7134(0x188),_0x3b3ee9['innerHTML']=_0x3b7134(0x19f),chatMessages[_0x3b7134(0x199)](_0x3b3ee9),chatMessages[_0x3b7134(0x241)]=chatMessages[_0x3b7134(0x1d1)],_0x3b3ee9;}let pendingImage=null,pendingFile=null;imageBtn['addEventListener'](_0x40d38c(0x1e9),()=>{imageInput['click']();}),fileBtn['addEventListener'](_0x40d38c(0x1e9),()=>{const _0x2e7d1d=_0x40d38c;fileInput[_0x2e7d1d(0x1e9)]();}),imageInput[_0x40d38c(0x15a)](_0x40d38c(0x23e),function(){const _0x34b87a=_0x40d38c;if(this[_0x34b87a(0x124)]&&this['files'][0x0]){const _0x3c9b51=this[_0x34b87a(0x124)][0x0];if(!_0x3c9b51[_0x34b87a(0x187)][_0x34b87a(0x1df)](_0x34b87a(0x211))||_0x3c9b51[_0x34b87a(0x187)]==='image/gif'){alert(_0x34b87a(0x1b3));return;}const _0x29e1e2=new FileReader();_0x29e1e2[_0x34b87a(0x12e)]=function(_0x3ef4a9){const _0x5dbb73=_0x34b87a;pendingImage=_0x3ef4a9['target'][_0x5dbb73(0x1e7)],showPendingImagePreview(pendingImage);},_0x29e1e2[_0x34b87a(0x14b)](_0x3c9b51);}}),fileInput[_0x40d38c(0x15a)]('change',function(){const _0x2d4215=_0x40d38c;if(this[_0x2d4215(0x124)]&&this[_0x2d4215(0x124)][0x0]){const _0x5048ee=this[_0x2d4215(0x124)][0x0],_0x5f3e0d=[_0x2d4215(0x1b5),_0x2d4215(0x131),_0x2d4215(0x216),_0x2d4215(0x189),_0x2d4215(0x177),'.c',_0x2d4215(0x21c),_0x2d4215(0x1e4),_0x2d4215(0x236),_0x2d4215(0x1ff),'.rs',_0x2d4215(0x204),_0x2d4215(0x138),_0x2d4215(0x142),'.yml',_0x2d4215(0x18f),_0x2d4215(0x192),_0x2d4215(0x198),_0x2d4215(0x191),'.sh',_0x2d4215(0x137),_0x2d4215(0x1fb)],_0x5ec725='.'+_0x5048ee[_0x2d4215(0x132)][_0x2d4215(0x1bb)]('.')['pop']()[_0x2d4215(0x182)]();if(!_0x5f3e0d[_0x2d4215(0x151)](_0x5ec725)){alert('Ch·ªâ\x20h·ªó\x20tr·ª£\x20file\x20text/code:\x20'+_0x5f3e0d[_0x2d4215(0x12d)](',\x20'));return;}if(_0x5048ee[_0x2d4215(0x18d)]>0x400*0x400){alert('File\x20qu√°\x20l·ªõn!\x20Vui\x20l√≤ng\x20ch·ªçn\x20file\x20nh·ªè\x20h∆°n\x201MB.');return;}const _0x8e823e=new FileReader();_0x8e823e['onload']=function(_0x542658){const _0x44fa12=_0x2d4215;pendingFile={'name':_0x5048ee[_0x44fa12(0x132)],'content':_0x542658[_0x44fa12(0x13e)][_0x44fa12(0x1e7)],'size':_0x5048ee[_0x44fa12(0x18d)]},showPendingFilePreview(pendingFile);},_0x8e823e['readAsText'](_0x5048ee);}}),chatInput['addEventListener'](_0x40d38c(0x153),function(_0x451f32){const _0x1848cf=_0x40d38c,_0x1f865c=_0x451f32[_0x1848cf(0x175)]['items'];for(let _0x980d9d=0x0;_0x980d9d<_0x1f865c[_0x1848cf(0x125)];_0x980d9d++){if(_0x1f865c[_0x980d9d][_0x1848cf(0x187)]['indexOf'](_0x1848cf(0x12f))!==-0x1&&_0x1f865c[_0x980d9d]['type']!==_0x1848cf(0x148)){const _0x43db9d=_0x1f865c[_0x980d9d][_0x1848cf(0x197)](),_0x969b95=new FileReader();_0x969b95[_0x1848cf(0x12e)]=function(_0x302083){const _0x1bdc75=_0x1848cf;pendingImage=_0x302083[_0x1bdc75(0x13e)]['result'],showPendingImagePreview(pendingImage);},_0x969b95[_0x1848cf(0x14b)](_0x43db9d),_0x451f32[_0x1848cf(0x22f)]();break;}}});function showPendingImagePreview(_0x55a816){const _0x4de275=_0x40d38c;let _0x81469e=document['getElementById'](_0x4de275(0x239));if(!_0x81469e){_0x81469e=document[_0x4de275(0x167)]('div'),_0x81469e['id']=_0x4de275(0x239),_0x81469e[_0x4de275(0x128)][_0x4de275(0x186)]=_0x4de275(0x222);const _0x382e04=document[_0x4de275(0x167)](_0x4de275(0x214));_0x382e04['id']=_0x4de275(0x20a),_0x382e04[_0x4de275(0x128)]['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x2060px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x2060px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#00bcd4;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20object-fit:\x20cover;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x202px\x208px\x20rgba(0,188,212,0.3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20all\x200.3s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x382e04[_0x4de275(0x16b)]=function(){const _0x3d2cbe=_0x4de275;this['style']['transform']='scale(1.05)',this[_0x3d2cbe(0x128)]['boxShadow']=_0x3d2cbe(0x17a);},_0x382e04['onmouseleave']=function(){const _0x30fdd3=_0x4de275;this[_0x30fdd3(0x128)][_0x30fdd3(0x1aa)]=_0x30fdd3(0x201),this[_0x30fdd3(0x128)][_0x30fdd3(0x23d)]='0\x202px\x208px\x20rgba(0,188,212,0.3)';};const _0x5244fd=document['createElement'](_0x4de275(0x133));_0x5244fd[_0x4de275(0x187)]=_0x4de275(0x133),_0x5244fd[_0x4de275(0x184)]=_0x4de275(0x12c),_0x5244fd[_0x4de275(0x16a)]='X√≥a\x20·∫£nh',_0x5244fd['style'][_0x4de275(0x186)]=_0x4de275(0x20b),_0x5244fd['onmouseenter']=function(){const _0x11e567=_0x4de275;this['style'][_0x11e567(0x1aa)]='scale(1.2)\x20rotate(90deg)',this[_0x11e567(0x128)][_0x11e567(0x154)]=_0x11e567(0x150),this['style'][_0x11e567(0x23d)]=_0x11e567(0x185);},_0x5244fd[_0x4de275(0x135)]=function(){const _0x328a95=_0x4de275;this['style'][_0x328a95(0x1aa)]=_0x328a95(0x22a),this['style'][_0x328a95(0x154)]='linear-gradient(135deg,\x20#ff4444,\x20#ff6666)',this[_0x328a95(0x128)]['boxShadow']='0\x202px\x208px\x20rgba(0,0,0,0.3)';},_0x5244fd[_0x4de275(0x1a9)]=function(_0x36b775){return _0x36b775['preventDefault'](),_0x36b775['stopPropagation'](),pendingImage=null,clearPendingImagePreview(),![];},_0x81469e[_0x4de275(0x199)](_0x382e04),_0x81469e[_0x4de275(0x199)](_0x5244fd),fileBtn[_0x4de275(0x1af)][_0x4de275(0x203)](_0x81469e,fileBtn);}document['getElementById'](_0x4de275(0x20a))[_0x4de275(0x19e)]=_0x55a816;}function showPendingFilePreview(_0xe9d2d3){const _0x2effdb=_0x40d38c;let _0x6c4ab4=document[_0x2effdb(0x221)](_0x2effdb(0x244));if(!_0x6c4ab4){_0x6c4ab4=document['createElement'](_0x2effdb(0x1b9)),_0x6c4ab4['id']=_0x2effdb(0x244),_0x6c4ab4[_0x2effdb(0x128)][_0x2effdb(0x186)]=_0x2effdb(0x222);const _0x361fa2=document['createElement']('div');_0x361fa2['id']='file-preview',_0x361fa2[_0x2effdb(0x128)][_0x2effdb(0x186)]=_0x2effdb(0x17c),_0x361fa2['onmouseenter']=function(){const _0x1e576d=_0x2effdb;this['style'][_0x1e576d(0x1aa)]=_0x1e576d(0x1e0),this[_0x1e576d(0x128)][_0x1e576d(0x23d)]=_0x1e576d(0x14a);},_0x361fa2[_0x2effdb(0x135)]=function(){const _0x11e999=_0x2effdb;this[_0x11e999(0x128)][_0x11e999(0x1aa)]=_0x11e999(0x201),this[_0x11e999(0x128)][_0x11e999(0x23d)]=_0x11e999(0x173);};const _0x22498c=document[_0x2effdb(0x167)]('div');_0x22498c[_0x2effdb(0x128)]['cssText']=_0x2effdb(0x13b),_0x22498c['innerHTML']='üìÑ';const _0x58afd5=document[_0x2effdb(0x167)](_0x2effdb(0x1b9));_0x58afd5[_0x2effdb(0x128)][_0x2effdb(0x186)]='font-size:\x2011px;\x20color:\x20#ff9900;\x20font-weight:\x20bold;\x20word-break:\x20break-all;',_0x58afd5[_0x2effdb(0x19d)]=_0xe9d2d3[_0x2effdb(0x132)];const _0x4c419c=document[_0x2effdb(0x167)]('div');_0x4c419c[_0x2effdb(0x128)]['cssText']=_0x2effdb(0x1dc),_0x4c419c[_0x2effdb(0x19d)]=(_0xe9d2d3['size']/0x400)[_0x2effdb(0x1fa)](0x1)+_0x2effdb(0x1a1);const _0x2cfba4=document[_0x2effdb(0x167)](_0x2effdb(0x133));_0x2cfba4['type']=_0x2effdb(0x133),_0x2cfba4[_0x2effdb(0x184)]=_0x2effdb(0x12c),_0x2cfba4[_0x2effdb(0x16a)]=_0x2effdb(0x157),_0x2cfba4['style'][_0x2effdb(0x186)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x20top:\x20-10px;\x20right:\x20-10px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2024px;\x20height:\x2024px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20#ff4444,\x20#ff6666);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x20border:\x202px\x20solid\x20#fff;\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x20font-size:\x2012px;\x20line-height:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200;\x20display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x202px\x208px\x20rgba(0,0,0,0.3);\x20transition:\x20all\x200.3s\x20ease;\x20z-index:\x2010;\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2cfba4[_0x2effdb(0x16b)]=function(){const _0x2b8cc5=_0x2effdb;this['style'][_0x2b8cc5(0x1aa)]='scale(1.2)\x20rotate(90deg)',this[_0x2b8cc5(0x128)]['background']='linear-gradient(135deg,\x20#ff0000,\x20#ff4444)',this[_0x2b8cc5(0x128)][_0x2b8cc5(0x23d)]=_0x2b8cc5(0x185);},_0x2cfba4[_0x2effdb(0x135)]=function(){const _0x18ea9f=_0x2effdb;this[_0x18ea9f(0x128)]['transform']=_0x18ea9f(0x22a),this[_0x18ea9f(0x128)][_0x18ea9f(0x154)]='linear-gradient(135deg,\x20#ff4444,\x20#ff6666)',this[_0x18ea9f(0x128)][_0x18ea9f(0x23d)]=_0x18ea9f(0x15e);},_0x2cfba4['onclick']=function(_0x4cd0f1){const _0x2083dc=_0x2effdb;return _0x4cd0f1[_0x2083dc(0x22f)](),_0x4cd0f1[_0x2083dc(0x1c7)](),pendingFile=null,clearPendingFilePreview(),![];},_0x361fa2[_0x2effdb(0x199)](_0x22498c),_0x361fa2[_0x2effdb(0x199)](_0x58afd5),_0x361fa2['appendChild'](_0x4c419c),_0x6c4ab4[_0x2effdb(0x199)](_0x361fa2),_0x6c4ab4['appendChild'](_0x2cfba4),imageBtn['parentNode'][_0x2effdb(0x203)](_0x6c4ab4,imageBtn);}}const style=document[_0x40d38c(0x167)](_0x40d38c(0x128));style[_0x40d38c(0x19d)]='\x0a\x20\x20\x20\x20@keyframes\x20fadeIn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20from\x20{\x20opacity:\x200;\x20transform:\x20scale(0.8);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20to\x20\x20\x20{\x20opacity:\x201;\x20transform:\x20scale(1);\x20}\x0a\x20\x20\x20\x20}\x0a',document[_0x40d38c(0x1b7)][_0x40d38c(0x199)](style);function clearPendingImagePreview(){const _0x46623c=_0x40d38c,_0x3baa54=document[_0x46623c(0x23a)]('image-preview-wrapper');_0x3baa54&&(_0x3baa54[_0x46623c(0x128)][_0x46623c(0x14f)]=_0x46623c(0x202),setTimeout(()=>_0x3baa54[_0x46623c(0x227)](),0x12c));}function clearPendingFilePreview(){const _0x2b5ff5=_0x40d38c,_0x49c04c=document[_0x2b5ff5(0x221)](_0x2b5ff5(0x244));_0x49c04c&&(_0x49c04c[_0x2b5ff5(0x128)][_0x2b5ff5(0x14f)]=_0x2b5ff5(0x202),setTimeout(()=>_0x49c04c[_0x2b5ff5(0x227)](),0x12c));}async function getBotReply(_0x5091f5){const _0x2612b4=_0x40d38c;if(isBlocked)return;const _0x545799=appendTypingIndicator();try{let _0x1b54ce=[];const _0x2a174c=getMemoryContext(),_0x2069dd=(_0x5091f5||'')+_0x2a174c;if(_0x2069dd)_0x1b54ce[_0x2612b4(0x23c)]({'text':_0x2069dd});if(pendingImage){const _0x1228da=pendingImage[_0x2612b4(0x1bb)](',')[0x1],_0x548781=pendingImage[_0x2612b4(0x1df)]('data:image/jpeg')?_0x2612b4(0x1f2):'image/png';_0x1b54ce[_0x2612b4(0x23c)]({'inline_data':{'mime_type':_0x548781,'data':_0x1228da}});}if(pendingFile){const _0x376d44=_0x2612b4(0x16f)+pendingFile[_0x2612b4(0x132)]+'\x0a\x0aN·ªôi\x20dung\x20file:\x0a\x0a'+pendingFile[_0x2612b4(0x158)];_0x1b54ce[_0x2612b4(0x23c)]({'text':_0x376d44});}conversation['push']({'role':_0x2612b4(0x127),'parts':_0x1b54ce});const _0x242b41=await callGeminiAPI(conversation);_0x545799[_0x2612b4(0x227)]();if(_0x242b41['error']){const _0x2e6b88=_0x242b41[_0x2612b4(0x218)][_0x2612b4(0x12a)]||'';if(_0x2e6b88[_0x2612b4(0x182)]()[_0x2612b4(0x151)](_0x2612b4(0x243))||_0x2e6b88[_0x2612b4(0x182)]()['includes'](_0x2612b4(0x13f))){blockUser(0.33,_0x2612b4(0x190));return;}appendMessage('L·ªói\x20API:\x20'+_0x2e6b88,_0x2612b4(0x240));return;}if(_0x242b41['candidates']&&_0x242b41['candidates'][0x0]&&_0x242b41['candidates'][0x0][_0x2612b4(0x158)]&&_0x242b41['candidates'][0x0]['content'][_0x2612b4(0x1ea)]){let _0x533a03=_0x242b41[_0x2612b4(0x14c)][0x0][_0x2612b4(0x158)][_0x2612b4(0x1ea)]['map'](_0x3f777a=>_0x3f777a[_0x2612b4(0x196)])['join']('');console[_0x2612b4(0x169)](_0x2612b4(0x1f7),JSON[_0x2612b4(0x174)](_0x533a03));if(_0x533a03['includes'](_0x2612b4(0x15f))){const _0x29d47a=_0x533a03[_0x2612b4(0x1bb)](_0x2612b4(0x15f)),_0x37a510=_0x29d47a[0x0][_0x2612b4(0x1c2)](),_0x445dbe=_0x29d47a[0x1][_0x2612b4(0x1bb)](']')[0x0][_0x2612b4(0x1c2)]();_0x445dbe&&(console[_0x2612b4(0x169)](_0x2612b4(0x15c),_0x445dbe),addMemory(_0x445dbe));_0x37a510&&(appendMessage(_0x37a510,'bot'),conversation['push']({'role':'model','parts':[{'text':_0x37a510}]}));setTimeout(()=>appendMemoryNotification(),0x12c),saveChatHistory();return;}if(_0x533a03[_0x2612b4(0x151)](_0x2612b4(0x1f9))){const _0x3610e6=_0x533a03[_0x2612b4(0x15d)](/BLOCK:(\d+(?:\.\d+)?):(.+)/);if(_0x3610e6){blockUser(parseFloat(_0x3610e6[0x1]),_0x3610e6[0x2][_0x2612b4(0x1c2)]());return;}}if(_0x533a03[_0x2612b4(0x151)](_0x2612b4(0x1c9))){const _0x27bb55=_0x533a03[_0x2612b4(0x15d)](/SEARCH:\s*(.+?)(?:\n|$)/);if(_0x27bb55){const _0x34c718=_0x27bb55[0x1][_0x2612b4(0x1c2)]();appendMessage(_0x2612b4(0x223),_0x2612b4(0x240));const _0x6350d0=await searchGoogle(_0x34c718);if(_0x6350d0&&_0x6350d0[_0x2612b4(0x125)]>0x0){const _0x12a09a=_0x6350d0[_0x2612b4(0x162)](_0x5759f2=>_0x2612b4(0x1b4)+_0x5759f2['title']+_0x2612b4(0x235)+_0x5759f2[_0x2612b4(0x1f4)]+_0x2612b4(0x20c)+_0x5759f2[_0x2612b4(0x232)])[_0x2612b4(0x12d)]('\x0a\x0a');conversation[_0x2612b4(0x23c)]({'role':_0x2612b4(0x127),'parts':[{'text':_0x2612b4(0x1a6)+_0x12a09a}]});const _0x36839e=await callGeminiAPI(conversation);if(_0x36839e[_0x2612b4(0x14c)]&&_0x36839e['candidates'][0x0]){const _0x6262ba=_0x36839e[_0x2612b4(0x14c)][0x0]['content'][_0x2612b4(0x1ea)]['map'](_0x378f25=>_0x378f25[_0x2612b4(0x196)])['join']('');appendMessage(_0x6262ba,_0x2612b4(0x240)),conversation[_0x2612b4(0x23c)]({'role':'model','parts':[{'text':_0x6262ba}]});}}else appendMessage(_0x2612b4(0x1b2)+_0x34c718+'\x22\x20=((',_0x2612b4(0x240));}else appendMessage(_0x533a03,_0x2612b4(0x240)),conversation[_0x2612b4(0x23c)]({'role':_0x2612b4(0x1f5),'parts':[{'text':_0x533a03}]});}else appendMessage(_0x533a03,'bot'),conversation[_0x2612b4(0x23c)]({'role':_0x2612b4(0x1f5),'parts':[{'text':_0x533a03}]});saveChatHistory();}else appendMessage(_0x2612b4(0x172),_0x2612b4(0x240));}catch(_0x3cdf9){_0x545799['remove'](),appendMessage(_0x2612b4(0x225)+_0x3cdf9[_0x2612b4(0x12a)],_0x2612b4(0x240)),console[_0x2612b4(0x218)](_0x3cdf9);}finally{pendingImage=null,pendingFile=null,clearPendingImagePreview(),clearPendingFilePreview();}}chatForm[_0x40d38c(0x15a)]('submit',function(_0x3e648e){const _0x243301=_0x40d38c;_0x3e648e[_0x243301(0x22f)]();if(isBlocked)return;const _0x578e7a=chatInput[_0x243301(0x176)]['trim']();if(!_0x578e7a&&!pendingImage&&!pendingFile)return;let _0x353501='';if(pendingImage&&pendingFile&&_0x578e7a)_0x353501='<img\x20src=\x22'+pendingImage+'\x22>'+(_0x243301(0x1ec)+pendingFile[_0x243301(0x132)]+_0x243301(0x181))+('<div>'+_0x578e7a+_0x243301(0x181));else{if(pendingImage&&_0x578e7a)_0x353501=_0x243301(0x226)+pendingImage+'\x22\x20style=\x22max-width:180px;max-height:180px;border-radius:10px;border:2px\x20solid\x20#00bcd4;margin-bottom:6px;display:block;\x22>'+(_0x243301(0x19c)+_0x578e7a+'</div>');else{if(pendingFile&&_0x578e7a)_0x353501=_0x243301(0x19a)+pendingFile['name']+_0x243301(0x181)+('<div>'+_0x578e7a+_0x243301(0x181));else{if(pendingImage)_0x353501=_0x243301(0x226)+pendingImage+'\x22>';else pendingFile?_0x353501=_0x243301(0x1a0)+pendingFile[_0x243301(0x132)]+_0x243301(0x181):_0x353501=_0x578e7a;}}}appendMessage(_0x353501,_0x243301(0x127)),getBotReply(_0x578e7a),chatInput[_0x243301(0x176)]='';}),window[_0x40d38c(0x15a)](_0x40d38c(0x237),async()=>{useBackendAPI=await checkBackendAPI(),await initializeTerms(),!userIP&&(userIP=await getUserIP()),checkBlockStatus();});
